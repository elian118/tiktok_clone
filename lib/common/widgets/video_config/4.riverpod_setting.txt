2. riverpod

전역형상을 관리하는 방법 중 하나로,
리스너블(Listenable) 추상클래스를 활용하는 Provider 를 개량한 외부 프레임워크.

Provider 보다 훨씬 간단하며, 플러터 외부에서 전역 형상을 관리할 수 있다.

설정법

1) main.dart > runApp() > 앱 ProviderScope 랩핑

    void main() async {
      // runApp() 실행 전에 위젯 바인딩을 먼저
      WidgetsFlutterBinding.ensureInitialized();

      runApp(const ProviderScope(child: TickTokApp()));
    }
    ...

2) ConsumerWidget 또는 ConsumerStatefulWidget 상속 후

    class TickTokApp extends ConsumerWidget {
      const TickTokApp({super.key});

3) build 메서드 두번째 인자로 WidgetRef ref 추가

      @override
      Widget build(BuildContext context, WidgetRef ref) {
        return MaterialApp.router(
          ...

4) ref 로 접근
    1. ref.watch(프로바이더).변수 -> 변수에 캐싱된 값 가져오기
    2. ref.read(프로바이더.notifier).메소드 -> 프로바이더 메소드(세터) 호출

          SwitchListTile.adaptive(
            value: ref.watch(playbackConfigProvider).darkMode,
            onChanged: (value) => ref
                .read(playbackConfigProvider.notifier)
                .setDarkMode(value),
            ...
          )